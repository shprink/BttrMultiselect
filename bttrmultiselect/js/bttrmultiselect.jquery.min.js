!function(){var t,e,n,s,i,o,r,l={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var s in e)l.call(e,s)&&(t[s]=e[s]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e=function(){function e(t,e){this.element=t,this.element.html(this.parse(e))}return e.prototype.addGroup=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},e}(),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.parse=function(t){var e,n,s,i;for(e="",s=0,i=t.length;i>s;s++)n=t[s],n.group&&(e+=this.addGroup(n));return e},e}(e),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.parse=function(t){var e,n,s,i,o;for(console.log(t.length),e="",n=0,i=0,o=t.length;o>i;i++)s=t[i],s.group?(n++,e+=this.addGroup(s)):s.empty||(e+=this.addOption(s));return e},e.prototype.addOption=function(t){var e,n;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),n=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+n+">"+t.html+"</li>")},e}(e),s=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,s,i,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),o=t.childNodes,r=[],s=0,i=o.length;i>s;s++)n=o[s],r.push(this.add_option(n,e,t.disabled));return r},t.prototype.add_option=function(t,e,n){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:n===!0?n:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),s.select_to_array=function(t){var e,n,i,o,r;for(n=new s,r=t.childNodes,i=0,o=r.length;o>i;i++)e=r[i],n.add_node(e);return n.parsed},this.SelectParser=s,n=function(){function e(e,n){var s;this.select=e,this.options=null!=n?n:{},this.$select=t(this.select),t.extend(this.options,this._getDefaultOptions(),this.options),s=this.$select.attr("multiple"),this.multiple="undefined"!=typeof s&&s!==!1?!0:!1,this.$button=t(this._getTemplate().button),this.$content=t(this._getTemplate().content),this.$content.insertAfter(this.$select),this.$button.insertAfter(this.$select),this._bindEvents(),this.$select.hide(),this.refresh(),this.$select.addClass("bttrmultiselect-done")}return e.prototype._getDefaultOptions=function(){var t;return t={search:!0,group_selector:!0,is_multiple:null}},e.prototype._getTemplate=function(){var t;return t={button:"<button type='button' class='bttrmultiselect'>\n	<span></span>\n	<b></b>\n</button>",content:"<div class='bttrmultiselect'>\n	<div class='bttrmultiselect-inner'>\n		<div class='bttrmultiselect-group'>\n			<div class='bttrmultiselect-header'></div>\n			<ul></ul>\n		</div>\n		<div class='bttrmultiselect-list'>\n			<div class='bttrmultiselect-header'></div>\n			<ul></ul>\n		</div>\n	</div>\n</div>"}},e.prototype._bindEvents=function(){return this.$button.on("click",function(){return alert("ee")})},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.refresh=function(){return this.data=r.SelectParser.select_to_array(this.select),this.selector_group=this.options.group_selector?new i(this.$content.find(".bttrmultiselect-group ul"),this.data):null,this.selector=new o(this.$content.find(".bttrmultiselect-list ul"),this.data),console.log("refreshing")},e.prototype.checkAll=function(){},e.prototype.uncheckAll=function(){},e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.getChecked=function(){return this.$select.find("option:checked")},e.prototype.setOptions=function(){},e.prototype.destroy=function(){return this.$select.removeClass("bttrmultiselect-done")},e}(),r=this,t=jQuery,t.fn.extend({bttrmultiselect:function(e){return this.each(function(){var s;return s=t(this),s.hasClass("bttrmultiselect-done")?void 0:s.data("bttrmultiselect",new n(this,e))})}})}.call(this);