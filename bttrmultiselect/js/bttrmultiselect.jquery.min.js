!function(){var t,e,s,i,n,o,r,l,u,h={}.hasOwnProperty,p=function(t,e){function s(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};e=function(){function e(t,e,s){this.element=t,this.multiple=s,this.element.html(this.parse(e))}return e.prototype.addGroup=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},e}(),n=function(t){function e(){return l=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.parse=function(t){var e,s,i,n;for(e="",i=0,n=t.length;n>i;i++)s=t[i],s.group&&(e+=this.addGroup(s));return e},e}(e),o=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.parse=function(t){var e,s,i,n,o;for(console.log(t.length),e="",s=0,n=0,o=t.length;o>n;n++)i=t[n],i.group?(s++,e+=this.addGroup(i)):i.empty||(e+=this.addOption(i));return e},e.prototype.addOption=function(t){var e,s;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+s+">"+t.html+"</li>")},e}(e),i=function(){function t(){this.options_index=0,this.parsed=[],this.hasGroup=!1}return t.prototype.add_node=function(t){return"OPTGROUP"!==t.nodeName.toUpperCase()?this.add_option(t):(this.add_group(t),t.disabled||this.hasGroup?void 0:this.hasGroup=!0)},t.prototype.add_group=function(t){var e,s,i,n,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),o=t.childNodes,r=[],i=0,n=o.length;n>i;i++)s=o[i],r.push(this.add_option(s,e,t.disabled));return r},t.prototype.add_option=function(t,e,s){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:s===!0?s:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),i.parse=function(t){var e,s,n,o,r;for(s=new i,r=t.childNodes,n=0,o=r.length;o>n;n++)e=r[n],s.add_node(e);return s},this.SelectParser=i,s=function(){function e(e,s){var i;this.select=e,this.options=null!=s?s:{},this.$select=t(this.select),t.extend(this.options,this._getDefaultOptions(),this.options),i=this.$select.attr("multiple"),this.multiple="undefined"!=typeof i&&i!==!1?!0:!1,this.$button=t(this._getTemplate().button),this.$content=t(this._getTemplate().content),this.$content.insertAfter(this.$select),this.$button.insertAfter(this.$select),this.width=this.$select.outerWidth(),this.height=this.$select.outerHeight(),this._bindEvents(),this.$select.hide(),this.refresh(),this.$select.addClass("bttrmultiselect-done")}return e.prototype._getDefaultOptions=function(){var t;return t={search:!0,group_selector:!0,is_multiple:null}},e.prototype._getTemplate=function(){var t;return t={button:"<button type='button' class='bttrmultiselect'>\n	<span></span>\n	<b></b>\n</button>",content:"<div class='bttrmultiselect'>\n	<div class='bttrmultiselect-inner'>\n		<div class='bttrmultiselect-group'>\n			<div class='bttrmultiselect-header'></div>\n			<ul></ul>\n		</div>\n		<div class='bttrmultiselect-list'>\n			<div class='bttrmultiselect-header'></div>\n			<ul></ul>\n		</div>\n	</div>\n</div>"}},e.prototype._bindEvents=function(){return this.$button.on("click",function(){return alert("ee")})},e.prototype._setButtonWidth=function(){return this.$button.css("width",this.width)},e.prototype._setContentWidth=function(){return this.$content.css("width",this.width)},e.prototype._setContentPosition=function(){var t;return t=this.$button.offset(),this.$content.css({top:t.top+this.height,left:t.left})},e.prototype._toGroup=function(){return this.$content.addClass("to-group")},e.prototype._toList=function(){return this.$content.addClass("to-list")},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.refresh=function(){var t;return t=r.SelectParser.parse(this.select),this.data=t.parsed,this.hasGroup=t.hasGroup,this._setButtonWidth(),this._setContentWidth(),this._setContentPosition(),this.hasGroup&&this.options.group_selector?(this.selector_group=new n(this.$content.find(".bttrmultiselect-group ul"),this.data,this.multiple),this._toGroup(),this.$content.find(".bttrmultiselect-group").css("width",this.width),this.$content.find(".bttrmultiselect-list").css("left",this.width)):(this._toList(),this.selector_group=null,this.$content.find(".bttrmultiselect-group").hide()),this.selector=new o(this.$content.find(".bttrmultiselect-list ul"),this.data,this.multiple),this.$content.find(".bttrmultiselect-list").css("width",this.width),console.log("refreshing")},e.prototype.checkAll=function(){},e.prototype.uncheckAll=function(){},e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.getChecked=function(){return this.$select.find("option:checked")},e.prototype.setOptions=function(){},e.prototype.destroy=function(){return this.$select.removeClass("bttrmultiselect-done")},e}(),r=this,t=jQuery,t.fn.extend({bttrmultiselect:function(e){return this.each(function(){var i;return i=t(this),i.hasClass("bttrmultiselect-done")?void 0:i.data("bttrmultiselect",new s(this,e))})}})}.call(this);