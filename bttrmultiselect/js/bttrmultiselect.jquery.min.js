!function(){var t,e,s,n,i,o,r,l,u,d={}.hasOwnProperty,c=function(t,e){function s(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};e=function(){function e(t,e){this.element=t,this.element.html(this.parse(e))}return e.prototype.addGroup=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+t("<div />").text(e.label).html()+"</li>")},e}(),i=function(t){function e(){return l=e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.parse=function(t){var e,s,n,i;for(e="",n=0,i=t.length;i>n;n++)s=t[n],s.group&&(e+=this.addGroup(s));return e},e}(e),o=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.parse=function(t){var e,s,n,i,o;for(console.log(t.length),e="",s=0,i=0,o=t.length;o>i;i++)n=t[i],n.group?(s++,e+=this.addGroup(n)):n.empty||(e+=this.addOption(n));return e},e.prototype.addOption=function(t){var e,s;return t.disabled?"":(t.dom_id=this.container_id+"_o_"+t.array_index,e=t.selected&&this.is_multiple?[]:["active-result"],t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=""!==t.style.cssText?' style="'+t.style+'"':"",'<li id="'+t.dom_id+'" class="'+e.join(" ")+'"'+s+">"+t.html+"</li>")},e}(e),n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,n,i,o,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,children:0,disabled:t.disabled}),o=t.childNodes,r=[],n=0,i=o.length;i>n;n++)s=o[n],r.push(this.add_option(s,e,t.disabled));return r},t.prototype.add_option=function(t,e,s){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:s===!0?s:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t}(),n.select_to_array=function(t){var e,s,i,o,r;for(s=new n,r=t.childNodes,i=0,o=r.length;o>i;i++)e=r[i],s.add_node(e);return s.parsed},this.SelectParser=n,s=function(){function e(e,s){var n;this.select=e,this.options=null!=s?s:{},this.$select=t(this.select),t.extend(this.options,this._getDefaultOptions(),this.options),n=this.$select.attr("multiple"),this.multiple="undefined"!=typeof n&&n!==!1?!0:!1,this.$button=t(this._getTemplate().button),this.$content=t(this._getTemplate().content),this.$content.insertAfter(this.$select),this.$button.insertAfter(this.$select),this.width=this.$select.outerWidth(),this.height=this.$select.outerHeight(),this._bindEvents(),this.$select.hide(),this.refresh(),this.$select.addClass("bttrmultiselect-done")}return e.prototype._getDefaultOptions=function(){var t;return t={search:!0,group_selector:!0,is_multiple:null}},e.prototype._getTemplate=function(){var t;return t={button:"<button type='button' class='bttrmultiselect'>\n	<span></span>\n	<b></b>\n</button>",content:"<div class='bttrmultiselect'>\n	<div class='bttrmultiselect-inner'>\n		<div class='bttrmultiselect-group'>\n			<div class='bttrmultiselect-header'></div>\n			<ul></ul>\n		</div>\n		<div class='bttrmultiselect-list'>\n			<div class='bttrmultiselect-header'></div>\n			<ul></ul>\n		</div>\n	</div>\n</div>"}},e.prototype._bindEvents=function(){return this.$button.on("click",function(){return alert("ee")})},e.prototype._setButtonWidth=function(){return this.$button.css("width",this.width)},e.prototype._setContentWidth=function(){return this.$content.css("width",this.width)},e.prototype._setContentPosition=function(){var t;return t=this.$button.offset(),this.$content.css({top:t.top+this.height,left:t.left})},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.refresh=function(){return this.data=r.SelectParser.select_to_array(this.select),this._setButtonWidth(),this._setContentWidth(),this._setContentPosition(),this.options.group_selector?(this.selector_group=new i(this.$content.find(".bttrmultiselect-group ul"),this.data),this.$content.addClass("to-group"),this.$content.find(".bttrmultiselect-group").css("width",this.width),this.$content.find(".bttrmultiselect-list").css("left",this.width)):(this.$content.addClass("to-list"),this.selector_group=null),this.selector=new o(this.$content.find(".bttrmultiselect-list ul"),this.data),this.$content.find(".bttrmultiselect-list").css("width",this.width),console.log("refreshing")},e.prototype.checkAll=function(){},e.prototype.uncheckAll=function(){},e.prototype.enable=function(){},e.prototype.disable=function(){},e.prototype.getChecked=function(){return this.$select.find("option:checked")},e.prototype.setOptions=function(){},e.prototype.destroy=function(){return this.$select.removeClass("bttrmultiselect-done")},e}(),r=this,t=jQuery,t.fn.extend({bttrmultiselect:function(e){return this.each(function(){var n;return n=t(this),n.hasClass("bttrmultiselect-done")?void 0:n.data("bttrmultiselect",new s(this,e))})}})}.call(this);